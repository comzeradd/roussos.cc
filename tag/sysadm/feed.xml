<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <author>Nikos Roussos</author>
  <title>nikos.roussos &bull; sysadm</title>
  
    <entry>
      <title>filesystem activity</title>
      <link href="https://www.roussos.cc/2006/12/14/filesystem-activity/"/>
      <content type="html"><p>so... you 're sitting in front of your pc, but you are not really doing something. in fact you are doing absolutely nothing.</p>
<p>despite that you can hear from time to time the hard disk spinning up just for a very short period of time.</p>
<p>don't you have the slightly curiosity to find out why? which process access your hard disk in the background?</p>
<p>i had that curiosity so here is what i did (i think that it requires kernel&gt;2.6.1):</p>
<pre><code>cat /proc/sys/vm/block_dump
</code></pre>
<p>i got 0. this is a feature that helps you monitor filesystem activity. so i activated it:</p>
<pre><code>echo 1 &gt; /proc/sys/vm/block_dump
</code></pre>
<p>i set the value to 1, so as i can watch which process is making use of the disk. now it should start logging the activity into your syslog files:</p>
<pre><code>tail -f /var/log/debug
</code></pre>
<p>there are two main types of entries that block_flush generates: dirty inodes and block read/writes. dirty inode entries just mean that something altered the inode for that file, most commonly it's due to an update to that files atime (access) or mtime (modification). if you look at the beginning of the output above, you'll see a lot of dirtied library inodes. these are the libraries linked against the tail command that was just executed, so their atime was just updated. the remainder, block reads and writes, are just normal reads and writes to the hard disk.</p>
<p>of course this procedure generates a lot of filesystem activity, so remember to deactivate it afterwards:</p>
<pre><code>echo 0 &gt; /proc/sys/vm/block_dump
</code></pre></content>
      <pubDate>2006-12-14 23:21:11</pubDate>
    </entry>
  
</feed>